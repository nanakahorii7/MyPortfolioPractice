!function(e){var t={};function n(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(s,o,function(t){return e[t]}.bind(null,o));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";var s={TAB:9,ENTER:13,ESCAPE:27,SPACE:32,ARROW_UP:38,ARROW_DOWN:40,SLASH:{PRESS:47},INPUT_JAPANESE:229};e.exports=s},function(e,t,n){"use strict";var s=n(2),o=n(3),a=n(4),i=n(7),r=n(8),c=n(12),l=n(16),u=n(20),d=n(22),f=n(25),p=n(26),_=n(29);$(function(){$("body").on("keypress",function(e){s.focusIfSlashKeyPressed(e),$("#question_comment_body")[0]&&_.quote.execute(e,"#question_comment_body"),$("#forum_comment_body")[0]&&_.quote.execute(e,"#forum_comment_body")}),s.enableIncrementalSearch(".enable-incremental-lesson-search"),$("#user_register_form").on("blur",'input[name="user_name"]',function(){o.checkUserName()}),a.appendModule("#lesson-complete-button","on_lesson_page"),a.appendModule(".lesson_complete_button","on_package_page"),i.enable("#lesson_star"),"undefined"==typeof ace?(r.copy.enable(".source_copy"),r.diff.enable(".toggle_diff"),r.toggle.enable(".show-hidden-source")):(c.copy.enable(".source_copy"),c.diff.enable(".toggle_diff"),c.toggle.enable(".show-hidden-source")),$(".each_source_area").each(function(){1===$(this).data("is-readme")&&$(this).insertBefore(".each_source_area:first")}),$(".source-select").find("option").each(function(){1===$(this).data("is-readme")&&$(this).insertAfter(".source-select > option:first")}),$(".each_source_area.no-diff").each(function(){$(this).insertAfter(".each_source_area:last")}),$(".source-select").find("option").each(function(){1===$(this).data("no-diff")&&$(this).appendTo(".source-select")}),l.settings.autoplay.enable("#autoplay"),u.enable(),d.floating.enable("#q_float_btn","#q_float_board","#q_float_close"),d.request.enable(),1===$("#submit_inquiry").length&&f.setup(),null!==document.getElementById("change_card_form")&&p.token.setup("change_card_form",["card_number","card_expire_month","card_expire_year","change_card_submit_btn"],"Dotinstall.payment.callbacks.changeCard"),null!==document.getElementById("business_purchase_form")&&p.token.setup("business_purchase_form",["card_number","card_name","card_expire_month","card_expire_year","security_code","back_to_input","do_card_payment_btn"],"Dotinstall.payment.callbacks.purchaseLicense"),null!==document.getElementById("premium_purchase_form")&&p.token.setup("premium_purchase_form",["card_number","card_expire_month","card_expire_year","do_card_payment_btn"],"Dotinstall.payment.callbacks.registerPremium")})},function(e,t,n){"use strict";var s=function(){var e=n(0),t=!1,s=-1;return{focusIfSlashKeyPressed:function(t){if(t.which===e.SLASH.PRESS){var n=t.target||t.srcElement;(1!==n.nodeType||"TEXTAREA"!==n.nodeName&&"INPUT"!==n.nodeName)&&(t.preventDefault(),document.getElementById("q_in_topbar")?document.getElementById("q_in_topbar").focus():document.getElementById("q")&&(document.getElementById("q").focus(),document.getElementById("q").select()))}},enableIncrementalSearch:function(n){$(n).find(".q").on("keyup focus",function(n){!function(n,o){(function(e){switch(e.attr("id")){case"q_in_topbar":$("#incremental").appendTo("#topbar_search");break;case"q_in_lessons":$("#incremental").appendTo("#lesson_index_search")}})(n),!!function(n,o){if(!1===t&&$("#incremental").children().eq(s).is(":visible")&&1==$("#incremental").find(".incremental-row.selected").length&&$("#incremental").find(".incremental-row.selected").data("href")&&o==e.ENTER){var a=$("#incremental").find(".incremental-row.selected");return HMHM.search.track(n.val(),"incre-p-with-key",s+1,0,a.text(),a.data("href")),!0}return!1}(n,o)||(!!function(n){return!1===t&&(n==e.TAB||n==e.ARROW_UP||n==e.ARROW_DOWN)&&($("#incremental").children().removeClass("selected"),n==e.ARROW_UP?--s<0&&(s=$("#incremental").children().length-1):++s==$("#incremental").children().length&&(s=0),$("#incremental").children().eq(s).addClass("selected"),!0)}(o)||""!==n.val()&&function(e){var t,n,o=[],a="";for(s=-1,$("#incremental").empty(),n=0;n<HMHM.packages.length;n++)(t=HMHM.packages[n].name.toLowerCase().indexOf(e.val().toLowerCase(),0))>=0&&(0!==HMHM.packages[n].name.indexOf("【旧版】")&&0!==HMHM.packages[n].name.indexOf("【サポート終了】")||(t+=999),!1===HMHM.packages[n].is_basic&&(t+=10),o.push({package:HMHM.packages[n],index:t,i:n}));for(o.sort(function(e,t){return e.index===t.index?e.package.name.length-t.package.name.length:e.index-t.index}),n=0;n<10&&n<o.length;n++)a="0"===o[n].package.is_premium?"hidden":"",$('<div class="incremental-row"></div>').data("href","/lessons/"+o[n].package.ename).append($('<span class="incremental-row-link"></span>').append($('<img class="premium-tag" />').attr("src","/img/premium_tag.png").addClass(a)).append($('<span class="incremental-row-img"></span>').append($('<img class="pic">').attr("src","/package_img/"+o[n].package.ename+"/main.png"))).append($("<span></span>").text(o[n].package.name))).appendTo("#incremental")}(n))}($(this),n.which)}).on("keydown",function(n){!function(n){if(HMHM.navigator.isFirefox)t=!1;else{if(n.which==e.INPUT_JAPANESE)return void(t=!0);t=!1}$("#incremental").children().length>0&&(n.which==e.TAB||n.which==e.ARROW_UP||n.which==e.ARROW_DOWN)&&n.preventDefault(),$("#incremental").children().length>0&&-1!==s&&n.which==e.ENTER&&n.preventDefault()}(n)}),$("#incremental").on("mouseover",".incremental-row",function(e){$("#incremental").children().removeClass("selected"),$(this).addClass("selected"),s=$(this).index()}),$("#incremental").on("click",".incremental-row",function(e){HMHM.search.track($(this).parents("form.enable-incremental-lesson-search").find(".q").val(),"incre-p-with-click",s+1,0,$(this).text(),$(this).data("href"))}),$("body").click(function(e){var t=e.target||e.srcElement;"q"!==$(t).attr("id")&&0===$(t).parents("#incremental").length&&$("#incremental").empty()})}}}();e.exports=s},function(e,t,n){"use strict";var s=function(){function e(e){$("#user_name_check_result").addClass("label-important").removeClass("label-success").text(e).show(),$("#user_name_check_loader").hide()}return{checkUserName:function(){var t=$("#user_name").val();if(""===t)return!1;try{!function(t){if(" "===t.charAt(0)||" "===t.charAt(t.length-1))throw e("半角空白は使えません"),new Error}(t)}catch(e){return!1}$("#user_name_check_result").hide(),$("#user_name_check_loader").show(),$("div.inputError").hide(),function(t){$.ajax({url:"/signup/check_user_name",type:"POST",data:{user_name:t,one_time_token:$('input[name="one_time_token"]:first').val()}}).done(function(t){t.error?e(t.error_message):function(e){$("#user_name_check_result").addClass("label-success").removeClass("label-important").text(e).show(),$("#user_name_check_loader").hide()}(t.message)}).fail(function(){})}(t)}}}();e.exports=s},function(e,t,n){"use strict";var s={on_lesson_page:n(5),on_package_page:n(6)},o=function(){var e,t,n,o={},a=!1;return{appendModule:function(i,r){o[i]=r,$(i).on("click",function(r){r.preventDefault(),$("#user_id")[0]&&""!==$("#user_id").val()&&!$(this).hasClass("disabled")&&function(i,r){if(a)return!1;a=!0,e=i,t=r,1===$("#lesson_id").length?n=$("#lesson_id").val():""!==e.data("lesson_id")&&(n=e.data("lesson_id")),e.prop("disabled",!0),$.ajax({url:"/lesson/complete.json",type:"POST",data:{id:n,user_id:$("#user_id").val(),one_time_token:$('input[name="one_time_token"]:first').val()},timeout:15e3}).done(function(i){!function(i){var r;if(a=!1,e.prop("disabled",!1),!i.result)return alert(i.error_message),!1;r=s[o[t]],i.is_canceled?r.cancel(e,n,i):r.complete(e,n,i),r.finish(i)}(i)}).fail(function(){})}($(this),i)}).on("reset",function(){a=!1})},getResponseModule:function(e){return s[o[t]]}}}();e.exports=o},function(e,t,n){"use strict";var s=function(){return{complete:function(e,t,n){$("#lesson-complete-button").addClass("completed"),$("#completeButtonLabel").text("完了済").addClass("op5"),$("#cancelMsg").slideDown(500),$("#lesson_row_"+t).find("a.lesson_title").addClass("done");var s="<strong>"+n.total_completed_count+"</strong> 本目のレッスンが完了！";e.tooltip({placement:"bottom",html:!0,title:s}).tooltip("show")},cancel:function(e,t,n){$("#lesson-complete-button").removeClass("completed"),$("#completeButtonLabel").text("完了").removeClass("op5"),$("#cancelMsg").slideUp(500),$("#lesson_row_"+t).find("a.lesson_title").removeClass("done"),$("#lesson_completed_user_"+$("#user_id").val()).remove(),$("#completed_users_count").text(1*$("#completed_users_count").text()-1),"0"==$("#completed_users_count").text()&&$("#no_completed_users").show(),e.tooltip("destroy")},finish:function(e){var t;$("#completed_lesson_count").text(e.completed_lesson_count),t=Math.floor(100*e.completed_lesson_count/e.lesson_count),$("#complete_average").text(t),HMHM.lesson.animateProgressBar(e)}}}();e.exports=s},function(e,t,n){"use strict";var s=function(){return{complete:function(e,t,n){e.find("span.iconDotinstall").text("完了済").addClass("op5"),$("#lesson_row_"+t).find("a.lesson_title").addClass("done")},cancel:function(e,t,n){e.find("span.iconDotinstall").text("未完了").removeClass("op5"),$("#lesson_row_"+t).find("a.lesson_title").removeClass("done")},finish:function(e){var t;$("#remaining_lesson_count").text(e.remaining_lesson_count),$("#completed_lesson_count").text(e.completed_lesson_count),t=Math.floor(100*e.completed_lesson_count/e.lesson_count),$("#complete_average").text(t),HMHM.lesson.animateProgressBar(e)}}}();e.exports=s},function(e,t,n){"use strict";var s=function(){var e;return{enable:function(t){e=t,$(e).on("click",function(t){t.preventDefault(),$.ajax({url:"/lesson/star.json",type:"POST",data:{id:$("#lesson_id").val(),user_id:$("#user_id").val(),one_time_token:$('input[name="one_time_token"]:first').val()},timeout:15e3}).done(function(t){!function(t){if(!t.result)return alert(t.error_message),!1;t.unstared?$(e).removeClass("stared"):$(e).addClass("stared")}(t)}).fail(function(){})})}}}();e.exports=s},function(e,t,n){"use strict";var s={copy:n(9),diff:n(10),toggle:n(11)};e.exports=s},function(e,t,n){"use strict";var s=function(){return{enable:function(e){$(e).click(function(){var e,t=$(this).parent().siblings("textarea");if(t.is(":visible"))return t.select(),!0;e=$(this).parent().siblings("pre:visible"),t.css({overflow:"hidden",width:e.width(),height:e.height(),"font-size":e.css("font-size"),"font-family":e.css("font-family"),padding:e.css("padding"),cursor:"default"}),e.hide(),t.show().select()})}}}();e.exports=s},function(e,t,n){"use strict";var s=function(){return{enable:function(e){$(e).click(function(){var e,t;$(this).hasClass("disabled")||(e=$(this).parent().parent().siblings("pre").eq(0),t=$(this).parent().parent().siblings("pre").eq(1),$(this).parent().parent().siblings("textarea").hide(),$(this).blur(),$(this).hasClass("btn-success")?(t.hide(),e.show(),$(this).removeClass("btn-success")):(e.hide(),t.show(),$(this).addClass("btn-success")))})}}}();e.exports=s},function(e,t,n){"use strict";var s=function(){return{enable:function(e){$(e).on("click",function(e){var t=this;e.preventDefault(),$(t).hasClass("opened")?($(t).removeClass("opened").parent().siblings("pre").slideUp(300,function(){$(t).text("ソースコードを表示").parent().removeClass("opened")}).siblings("textarea").hide(),$(t).parents(".each_source_area").find(".select-source-button").prop("disabled",!0)):($(t).addClass("opened").text("ソースコードを閉じる").parent().addClass("opened").siblings("pre").slideDown(300),$(t).parents(".each_source_area").find(".select-source-button").prop("disabled",!1))})}}}();e.exports=s},function(e,t,n){"use strict";var s={copy:n(13),diff:n(14),toggle:n(15)};e.exports=s},function(e,t,n){"use strict";var s=function(){return{enable:function(e){$(e).click(function(){var e;$(this).parents(".sourceBox").find(".toggle_diff").removeClass("btn-success"),$(this).parents(".each_source_area").find(".source-editor").show(),$(this).parents(".each_source_area").find(".source-editor-diff").hide(),(e=Dotinstall.sources[$(this).parents(".each_source_area").index()]).getSelection().isEmpty()?(e.selectAll(),e.focus()):(e.clearSelection(),e.focus())})}}}();e.exports=s},function(e,t,n){"use strict";var s=function(){return{enable:function(e){$(e).click(function(){var e,t;$(this).hasClass("disabled")||(e=$(this).parent().parent().siblings(".source-editor"),t=$(this).parent().parent().siblings(".source-editor-diff"),$(this).blur(),$(this).hasClass("btn-success")?($(this).removeClass("btn-success"),e.show(),t.hide(),Dotinstall.sources[$(this).parents(".each_source_area").index()].clearSelection()):($(this).addClass("btn-success"),e.hide(),t.show(),Dotinstall.diffs[$(this).parents(".each_source_area").index()].resize()))})}}}();e.exports=s},function(e,t,n){"use strict";var s=function(){return{enable:function(e){$(e).on("click",function(e){var t=this;e.preventDefault(),$(t).hasClass("opened")?($(t).removeClass("opened").parent().siblings(".source-editor").slideUp(300,function(){$(t).text("ソースコードを表示").parent().removeClass("opened")}),$(t).parents(".each_source_area").find(".select-source-button").prop("disabled",!0)):($(t).addClass("opened").text("ソースコードを閉じる").parent().addClass("opened").siblings(".source-editor").slideDown(300,function(){Dotinstall.sources[$(t).parents(".each_source_area").index()].resize()}),$(t).parents(".each_source_area").find(".select-source-button").prop("disabled",!1))})}}}();e.exports=s},function(e,t,n){"use strict";var s=function(){var e=n(17);return{alert:n(19),settings:e}}();e.exports=s},function(e,t,n){"use strict";var s={autoplay:n(18)};e.exports=s},function(e,t,n){"use strict";var s=function(){return{enable:function(e){$(e).on("click",function(){$("#autoplay").is(":checked")?function(){if(void 0===HMHM.movie.videojs)return!1;void 0!==HMHM.movie.videojs.player_&&HMHM.movie.videojs.player_.on("ended",function(){HMHM.movie.videojs.on.ended()})}():function(){if(void 0===HMHM.movie.videojs)return!1;void 0!==HMHM.movie.videojs.player_&&HMHM.movie.videojs.player_.off("ended"),HMHM.movie.autoplay.removeAutoplayCookie()}(),$.post("/user/update_autoplay.json",{user_id:$("#user_id").val(),autoplay:$("#autoplay").is(":checked")?1:0,one_time_token:$(".one_time_token").val()})})}}}();e.exports=s},function(e,t,n){"use strict";var s=function(){return{closeVolumeAlert:function(e){$("#volume_alert_mask").hide(),Dotinstall.cookie.set("volume_alert_close",e,void 0,"/lessons/")}}}();e.exports=s},function(e,t,n){"use strict";var s=function(){var e=".tabs",t=".tab-body";function s(n){var s="tab_body_"+n.data("tab-id");n.addClass("active").siblings("li").removeClass("active"),$(t).each(function(){$(this).attr("id")===s&&($(this).show(),$(this).siblings().hide())}),!0===n.parent(e).data("tab-save")&&HMHM.cookie.set(n.parent(e).data("tabs-id"),n.data("tab-id"),2592e6,"/lessons/")}return{enable:function(){$(t).hide(),$(t+".active").show(),$(e+" > li").on("click",function(){s($(this))}),$(e).each(function(){!0===$(this).data("tab-save")&&function(t){var n,o;n=function(e){var t=[],n="";return e.children("li").each(function(){t.push($(this).data("tab-id"))}),n="tabs_state_"+t.join("_"),e.data("tabs-id",n),n}(t),null!==(o=HMHM.cookie.get(n))&&$(e+" > li").each(function(){$(this).data("tab-id")===o&&s($(this))})}($(this))})},scroll:n(21)}}();e.exports=s},function(e,t,n){"use strict";var s=function(){var e,t,n,s,o=100,a=300,i=0;function r(){return i>o?o:i}function c(){var e=s.width()-$(n).width()-i;return e>o?o:e}return{enable:function(o,l){e=document.getElementById(o),t=document.getElementById(l),n=function e(t){return t.parentNode?t.parentNode.classList.contains("tabs-scroll")?t.parentNode:e(t.parentNode):null}(e),s=$("#"+e.dataset.scrollTab),e.addEventListener("click",function(e){var t;e.preventDefault(),t=r(),s.animate({marginLeft:"+="+t+"px"},a),i-=t,n.classList.remove("scroll-end"),0===r()&&n.classList.remove("scroll-start")}),t.addEventListener("click",function(e){var t;e.preventDefault(),t=c(),s.animate({marginLeft:"-="+t+"px"},a),i+=t,n.classList.add("scroll-start"),0===c()&&n.classList.add("scroll-end")})}}}();e.exports=s},function(e,t,n){"use strict";var s={floating:n(23),request:n(24)};e.exports=s},function(e,t,n){"use strict";var s=function(){return{enable:function(e,t,n){var s,o;function a(n){n&&$(e).removeClass("init"),$(e).addClass("open-float").removeClass("close-float"),$(t).addClass("open-float"),$(t).fadeIn(),Dotinstall.cookie.set("q_float_close",0,7776e3,"/")}function i(n){n&&$(e).removeClass("init"),$(e).removeClass("open-float").addClass("close-float"),$(t).removeClass("open-float"),$(t).fadeOut(),Dotinstall.cookie.set("q_float_close",1,7776e3,"/")}$(e).on("click",function(){$(t).hasClass("open-float")?i(!0):a(!0)}),$(n).on("click",function(){$(e).click()}),s=Dotinstall.cookie.get("q_float_close"),(o=document.getElementById("side_preview"))&&o.classList.contains("active")?i(!1):null===s||"0"===s?a(!1):i(!1)}}}();e.exports=s},function(e,t,n){"use strict";var s=function(){return{enable:function(){$("#q_lock_btn").on("click",function(){$("#q_lock_btn").prop("disabled",!0),$.post("/q/"+$("#question_id").val()+"/lock.json",{user_id:$("#user_id").val(),one_time_token:$(".one_time_token").val()}).done(function(){location.reload()}).fail(function(){$("#q_lock_btn").prop("disabled",!1)})}),$("#q_unlock_btn").on("click",function(){$("#q_unlock_btn").prop("disabled",!0),$.post("/q/"+$("#question_id").val()+"/unlock.json",{user_id:$("#user_id").val(),one_time_token:$(".one_time_token").val()}).done(function(){location.reload()}).fail(function(){$("#q_unlock_btn").prop("disabled",!1)})})}}}();e.exports=s},function(e,t,n){"use strict";var s=function(){return{setup:function(){$.post("/contact/exchange_token.json",{prepare_token:$("#prepare_token").val(),one_time_token:$(".one_time_token").val()}).done(function(e){$("#prepare_token").remove(),$("#js_token").val(e.token)}),$("#submit_inquiry").on("click",function(){if(!(""===$("#mail").val()?(alert("メールアドレスを入力してください。"),$("#mail").focus(),0):""!==$("#body").val()||(alert("お問い合わせ内容を記入してください。"),$("#body").focus(),0)))return!1;$("#submit_inquiry").prop("disabled",!0),$.post("/contact/create",{user_name:$("#user_name").val(),mail:$("#mail").val(),url:$("#url").val(),body:$("#body").val(),user_agent:$("#user_agent").val(),screen_size:$("#screen_size").val(),js_token:$("#js_token").val(),one_time_token:$('input[name="one_time_token"]:first').val()},function(e){e.error?($("#submit_inquiry").prop("disabled",!1),alert(e.error.message)):location.href="/contact/done"})})}}}();e.exports=s},function(e,t,n){"use strict";var s=n(27),o=n(28),a={token:s,callbacks:o};e.exports=a},function(e,t,n){"use strict";var s=function(){var e=!1;return{setup:function(t,n,s){var o,a=document.getElementById(t);return!e&&null!==a&&(Dotinstall.payment.callbacks.setFormSelector(t),Dotinstall.payment.callbacks.setSelectorsOfComponents(n),$.post("/payment/get_gpay_api_key.json",{prepare_token:$("#prepare_token").val(),one_time_token:$(".one_time_token").val()}).done(function(e){$("#prepare_token").remove(),$("#js_token").val(e.token),o=e.api_key}),void a.addEventListener("submit",function(e){var t={};return e.preventDefault(),function(e){var t;for(t=0;t<e.length;t++)document.getElementById(e[t]).disabled=!0}(n),t.cardno=document.getElementById("card_number").value,t.expire=100*(document.getElementById("card_expire_year").value-0)+(document.getElementById("card_expire_month").value-0),-1!==n.indexOf("card_name")&&(t.holdername=document.getElementById("card_name").value),-1!==n.indexOf("security_code")&&(t.securitycode=document.getElementById("security_code").value),Multipayment.init(o),Multipayment.getToken(t,s),!1}))}}}();e.exports=s},function(e,t,n){"use strict";var s=function(){var e,t;function n(){var t;for(t=0;t<e.length;t++)document.getElementById(e[t]).disabled=!1}function s(e){e-0<110?alert("カード番号に誤りがあります"):e-0<121?alert("有効期限に誤りがあります"):e-0<123?alert("セキュリティコードに誤りがあります"):e-0<133?alert("名義に誤りがあります"):alert("エラーが発生しました。しばらくしてからお試しください。")}return{changeCard:function(e){"000"!==e.resultCode?(s(e.resultCode),n()):function(e){$.post("/premium/change_card",{user_id:$("#user_id").val(),token:e.tokenObject.token,js_token:$("#js_token").val(),one_time_token:$(".one_time_token").val()}).done(function(e){$("#success_change_card").show(),document.getElementById(t).reset(),document.getElementById("js_token").value=e.js_token,n()}).fail(function(e){alert($.parseJSON(e.responseText).error.message),n()})}(e)},purchaseLicense:function(e){if("000"===e.resultCode)return e.tokenObject.isSecurityCodeSet?void function(e){$.post("/business/purchase",{holder_name:$("#card_name").val(),gpay_token:e.tokenObject.token,purchase_token:$("#purchase_token").val(),js_token:$("#js_token").val(),one_time_token:$(".one_time_token").val()}).done(function(e){location.href=e.next_location}).fail(function(e){alert($.parseJSON(e.responseText).error.message),n()})}(e):(alert("セキュリティコードを入力してください"),void n());s(e.resultCode),n()},registerPremium:function(e){"000"!==e.resultCode?(s(e.resultCode),n()):function(e){$.post("/premium/purchase",{user_id:$("#user_id").val(),payment_method_id:2,token:e.tokenObject.token,js_token:$("#js_token").val(),one_time_token:$(".one_time_token").val()}).done(function(e){location.href=e.next_location}).fail(function(e){alert($.parseJSON(e.responseText).error.message),n()})}(e)},setFormSelector:function(e){t=e},setSelectorsOfComponents:function(t){e=t}}}();e.exports=s},function(e,t,n){"use strict";var s=n(30),o=n(31),a=n(32),i=function(){return{focusByKey:function(e,t,n){if(e.which!==t)return!1;var s=e.target||e.srcElement;(1!==s.nodeType||"TEXTAREA"!==s.nodeName&&"INPUT"!==s.nodeName)&&(e.preventDefault(),n.focus(),n.select())},inputTabChar:function(e,t){var n,s,o;if(9===t.keyCode)return void 0!==t.preventDefault&&t.preventDefault(),s=e.get(0).selectionStart,o=e.get(0).selectionEnd,n=e.val(),e.val(n.substr(0,s)+"\t"+n.substr(o)),e.get(0).selectionStart=s+1,e.get(0).selectionEnd=s+1,!1},insertAtCaret:function(e,t){var n,s,o,a,i=!0;void 0!==arguments[2]&&!1===arguments[2]&&(i=!1),n=e.get(0).selectionStart,s=e.get(0).selectionEnd,a=""+(o=e.val()).substr(0,n),i&&(a+="\n"),a+=t+o.substr(s),e.val(a),e.get(0).selectionStart=n+t.length+1,e.get(0).selectionEnd=n+t.length+1},clickToMention:o,quote:s,suggester:a}}();e.exports=i},function(e,t,n){"use strict";var s=function(){return{execute:function(e,t){var n,s,o,a="";if(e.which==="r".charCodeAt(0)&&!e.metaKey&&!e.ctrlKey&&(1!==(o=e.target||e.srcElement).nodeType||"TEXTAREA"!==o.nodeName&&"INPUT"!==o.nodeName)&&1===$(t).length&&!$(t).is(":hidden")&&(e.preventDefault(),""!==(n=window.getSelection().toString()))){if(""!==(s=$(t).val()))for(;!/(\n{2}|\r{2}|\r\n\r\n)$/.test(s);)s+="\n";a+=(n=n.split(/\r\n|\r|\n/).map(function(e){return"> "+e}).join("\n"))+"\n\n",$(t).focus().val(s+a)}}}}();e.exports=s},function(e,t,n){"use strict";var s=function(){function e(e,t){1===$(t).length&&($(t).is(":hidden")||($(t).focus(),Dotinstall.form.insertAtCaret($(t),"@"+e+" ",!1)))}return{init:function(t){var n,s=document.getElementsByClassName("click-to-mention");for(n=0;n<s.length;n++)s[n].addEventListener("click",function(){e(this.dataset.username,t)})}}}();e.exports=s},function(e,t,n){"use strict";var s=function(){var e,t,s,o,a=n(0),i=!1,r=0,c="";function l(){var e,n;for(n=new RegExp("^"+c);t.firstChild;)t.removeChild(t.firstChild);for(e=0;e<s.length;e++)n.test(s[e])&&t.appendChild(u(s[e]));t.firstChild&&t.firstChild.classList.add("selected")}function u(e){var t=document.createElement("li");return t.textContent=e,t.addEventListener("mouseover",function(){this.classList.add("selected")}),t.addEventListener("mouseout",function(){this.classList.remove("selected")}),t.addEventListener("click",function(){r>0&&d()}),t}function d(){var e,n;for(e=0;e<t.children.length;e++)if(t.children[e].classList.contains("selected")){n=t.children[e].textContent.substr(c.length)+" ",Dotinstall.form.insertAtCaret($(o),n,!1);break}}function f(e){!function(e){i=!Dotinstall.navigator.detect().isFirefox&&e===a.INPUT_JAPANESE}(e.which),0===r||i||e.which!==a.TAB&&e.which!==a.ARROW_UP&&e.which!==a.ARROW_DOWN&&e.which!==a.ENTER||e.preventDefault()}function p(e){switch(e){case a.TAB:case a.ENTER:return d(),m(),!0;case a.ARROW_UP:return function(){var e=document.querySelector(".suggester-list > .selected");e.classList.remove("selected"),e.previousSibling?e.previousSibling.classList.add("selected"):t.lastChild.classList.add("selected")}(),!0;case a.ARROW_DOWN:return function(){var e=document.querySelector(".suggester-list > .selected");e.classList.remove("selected"),e.nextSibling?e.nextSibling.classList.add("selected"):t.firstChild.classList.add("selected")}(),!0}return!1}function _(e){r>0&&p(e.which)||(this.value.substr(this.selectionStart-1,1)!==this.dataset.suggesterTrigger?0!==r&&(this.selectionStart<r?m():(c=this.value.substr(r,this.selectionStart-r),l(),0===t.children.length&&m())):function(){var e;l(),r=o.selectionStart,e=$(o).textareaHelper("caretPos"),t.style.top=e.top+"px",t.style.left=e.left+"px",t.classList.remove("hide")}())}function m(){r=0,c="",t.classList.add("hide")}return{init:function(n){(o=n).parentNode.style.position="relative",(e=document.createElement("div")).classList.add("suggester-container"),function(e){s=e,(t=document.createElement("ul")).classList.add("suggester-list"),t.classList.add("hide"),l()}(o.dataset.suggesterList.split(",")),e.appendChild(t),o.parentNode.insertBefore(e,o.nextSibling),o.addEventListener("keydown",f),o.addEventListener("keyup",_),o.addEventListener("click",_)}}}();e.exports=s}]);